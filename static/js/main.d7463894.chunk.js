(this["webpackJsonpbrainfuck-interpreter"]=this["webpackJsonpbrainfuck-interpreter"]||[]).push([[0],{39:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var s,r=n(0),c=n.n(r),i=n(12),a=n.n(i),o=n(11),u=n(7),h=n(46),d=n(45),l=n(26),j=n(6),m=n.n(j),b=n(9),p=n(22),f=n(23);!function(t){t[t.RUNNING=0]="RUNNING",t[t.STOPPING=1]="STOPPING",t[t.STOPPED=2]="STOPPED",t[t.END=3]="END"}(s||(s={}));var O=function(){function t(e,n){Object(p.a)(this,t),this.opt=void 0,this.memory=void 0,this.ptr=void 0,this.code=void 0,this.codePointer=void 0,this.breakPoints=void 0,this.status=null,this.commands=void 0,this.jumpByOpen=void 0,this.jumpByClose=void 0,this.code=e;var s={onChangeCodePointer:function(t){},onChangeMemory:function(t){},onChangeStatus:function(t){},write:function(t){},read:function(){var t=Object(o.a)("Hello, World!");return function(){var e;return(null===(e=t.shift())||void 0===e?void 0:e.charCodeAt(0))||-1}}(),memorySize:1024,cellBits:8,commands:{inc:"+",dec:"-",nxt:">",prv:"<",put:".",get:",",opn:"[",cls:"]"}};this.opt=Object.assign(s,n),this.reset()}return Object(f.a)(t,[{key:"reset",value:function(){this.memory=new Int8Array(this.opt.memorySize).fill(0),this.ptr=0,this.codePointer=0;var t=this.jumpList();this.jumpByOpen=t.reduce((function(t,e){return t[e[0]]=e[1],t}),{}),this.jumpByClose=t.reduce((function(t,e){return t[e[1]]=e[0],t}),{}),this.commands=Object.values(this.opt.commands),this.opt.onChangeCodePointer(this.codePointer),this.opt.onChangeMemory(this.memory,this.ptr),this.changeStatus(s.STOPPED),this.breakPoints=[]}},{key:"jumpList",value:function(){for(var t=this,e=[],n=Object.values(this.opt.commands),s=0,r=0,c=function(c){var a=t.code.slice(c),o=n.find((function(t){return a.startsWith(t)}));if(o===t.opt.commands.opn)0===s&&(r=c),s++;else if(o===t.opt.commands.cls)if(0!==r)0===--s&&(e.push([r,c]),c=r,r=0);else if(!e.find((function(t){return t[1]===c})))throw Error("Syntax error: ".concat(t.opt.commands.opn," expected.(index: ").concat(c,")"));c+=(null===o||void 0===o?void 0:o.length)||1,i=c},i=0;this.code[i];)c(i);if(0!==r)throw Error("Syntax error: ".concat(this.opt.commands.cls," expected.(index: ").concat(r,")"));return e}},{key:"run",value:function(){var t=Object(b.a)(m.a.mark((function t(){var e,n,r,c=this,i=arguments;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=i.length>0&&void 0!==i[0]&&i[0],this.changeStatus(s.RUNNING),n=e?Object(b.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){setTimeout(t)}));case 2:case"end":return t.stop()}}),t)}))):void 0,r=e?Object(b.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.opt.onChangeCodePointer(c.codePointer),c.opt.onChangeMemory(c.memory,c.ptr);case 2:case"end":return t.stop()}}),t)}))):void 0;case 4:if(!this.code[this.codePointer]||this.status!==s.RUNNING){t.next=11;break}return t.next=7,this._step(n,r);case 7:if(!this.breakPoints.includes(this.codePointer)){t.next=9;break}return t.abrupt("break",11);case 9:t.next=4;break;case 11:this.changeStatus(s.STOPPED),this.opt.onChangeCodePointer(this.codePointer),this.opt.onChangeMemory(this.memory,this.ptr);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"stop",value:function(){this.changeStatus(s.STOPPING)}},{key:"setBreakPoint",value:function(t){this.breakPoints.includes(t)?this.breakPoints=this.breakPoints.filter((function(e){return e!==t})):this.breakPoints.push(t)}},{key:"step",value:function(){var t=Object(b.a)(m.a.mark((function t(){var e,n,r=this;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.changeStatus(s.RUNNING),e=function(){var t=Object(b.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){setTimeout(t)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(b.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.opt.onChangeCodePointer(r.codePointer),r.opt.onChangeMemory(r.memory,r.ptr);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),this._step(e,n),this.changeStatus(s.STOPPED);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_step",value:function(){var t=Object(b.a)(m.a.mark((function t(){var e,n,s,r,c=arguments;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:function(){},n=c.length>1&&void 0!==c[1]?c[1]:function(){},t.next=4,e();case 4:if(s=this.code.slice(this.codePointer),(r=this.commands.find((function(t){return s.startsWith(t)})))===this.opt.commands.opn?0===this.memory[this.ptr]&&(this.codePointer=this.jumpByOpen[this.codePointer]):r===this.opt.commands.cls?0!==this.memory[this.ptr]&&(this.codePointer=this.jumpByClose[this.codePointer]-1):r===this.opt.commands.nxt?this.ptr=this.ptr<this.opt.memorySize-1?this.ptr+1:0:r===this.opt.commands.prv?this.ptr=this.ptr>0?this.ptr-1:this.opt.memorySize-1:r===this.opt.commands.inc?this.memory[this.ptr]++:r===this.opt.commands.dec?this.memory[this.ptr]--:r===this.opt.commands.put?this.opt.write(this.memory[this.ptr]):r===this.opt.commands.get&&(this.memory[this.ptr]=this.opt.read()||0),!r){t.next=13;break}return this.codePointer+=r.length,t.next=11,n();case 11:t.next=14;break;case 13:this.codePointer++;case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"changeStatus",value:function(t){this.status!==t&&(this.code[this.codePointer]?this.status=t:this.status=s.END,this.opt.onChangeStatus(this.status))}}]),t}(),x=n(47),v=n.p+"static/media/logo.205d7a80.svg",P=n(1),g=function(){return Object(P.jsx)("header",{children:Object(P.jsx)(x.a,{bg:"dark",children:Object(P.jsx)(x.a.Brand,{href:"#home",children:Object(P.jsxs)("div",{className:"site-name",children:[Object(P.jsx)("img",{alt:"",src:v,width:"30",height:"30",className:"d-inline-block align-top"})," ","Brainfuck Interpreter"]})})})})},k=n(48),y=n(44),S=n(49),N=function(t){var e=Object(r.useState)(Object(r.createRef)()),n=Object(u.a)(e,1)[0];return Object(P.jsxs)("div",{children:[Object(P.jsxs)(k.a,{children:[Object(P.jsxs)(k.a.Row,{className:"mb-1",children:[Object(P.jsx)(k.a.Label,{children:"Code"}),Object(P.jsx)(k.a.Control,{as:"textarea","aria-label":"code",rows:10,onChange:function(e){t.onUpdateCode(e.target.value)}})]}),Object(P.jsx)(k.a.Row,{className:"mb-4",children:Object(P.jsx)("p",{className:"text-danger",children:t.errorMessage})})]}),Object(P.jsxs)(k.a.Row,{className:"d-flex",children:[Object(P.jsx)("div",{className:"mr-auto",children:Object(P.jsxs)(y.a,{children:[Object(P.jsx)(S.a,{variant:"secondary",onClick:function(e){t.onStop()},disabled:t.status!==s.RUNNING,children:"STOP"}),Object(P.jsx)(S.a,{variant:"secondary",onClick:function(e){t.onReset()},disabled:null===t.status||t.status!==s.STOPPED&&t.status!==s.END,children:"RESET"})]})}),Object(P.jsx)("div",{className:"mr-4",children:Object(P.jsx)(k.a.Check,{label:"STEP TRACE",ref:n})}),Object(P.jsx)("div",{children:Object(P.jsxs)(y.a,{children:[Object(P.jsx)(S.a,{variant:"info",onClick:function(e){t.onRun(n.current.checked)},disabled:null===t.status||t.status!==s.STOPPED,children:"RUN"}),Object(P.jsx)(S.a,{variant:"info",onClick:function(e){t.onStep()},disabled:null===t.status||t.status!==s.STOPPED,children:"STEP"})]})})]})]})},C=function(t){return Object(P.jsxs)(k.a,{children:[Object(P.jsx)(k.a.Label,{children:"Result"}),Object(P.jsx)(k.a.Row,{className:"result",children:Object(P.jsx)("pre",{className:"m-4",children:t.result})})]})},w=n(15),E=function(t){var e=function(e){var n=Number(e.target.getAttribute("data-key"));t.onSetBreakPoint(n)},n=function(e){var n=t.breakPoints.includes(e),s=e===t.codePointer;return n&&s?"token bg-secondary px-1":n?"token bg-danger px-1":s?"token bg-info px-1":"token px-1"};return Object(P.jsxs)(k.a,{children:[Object(P.jsx)(k.a.Label,{children:"Code Viewer"}),Object(P.jsx)(k.a.Row,{className:"code",children:t.code?w([].concat(Object(o.a)(t.code),["EOF"])).map((function(t){return" "===t?"\xa0":t})).map((function(t,s){return"\n"===t?Object(P.jsx)("br",{},s):Object(P.jsx)("span",{onClick:e,"data-key":s,className:n(s),children:t},s)})).value():null})]})},R=function(t){return Object(P.jsxs)(k.a,{children:[Object(P.jsx)(k.a.Label,{children:"Memory Viewer"}),Object(P.jsx)(k.a.Row,{className:"memory",children:t.memory?w(t.memory).chunk(16).map((function(e,n){return Object(P.jsx)(d.a,{children:w.map(e,(function(e,s){return Object(P.jsx)(l.a,{children:Object(P.jsx)("code",{className:t.ptr===16*n+s?"bg-light":"",children:"".concat(e).padStart(3,"0")})},16*n+s)}))},n)})).value():null})]})},T=n.p+"static/media/github.c18574d3.svg",B=function(){return Object(P.jsx)("footer",{children:Object(P.jsx)(x.a,{bg:"dark",className:"d-flex justify-content-around",children:Object(P.jsx)(x.a.Brand,{href:"https://github.com/omurakazuaki/brainfuck-interpreter",target:"_blank",children:Object(P.jsxs)("div",{className:"footer-link",children:[Object(P.jsx)("img",{alt:"",src:T,width:"24",height:"24",className:"d-inline-block align-top"})," ","source"]})})})})},D=(n(39),function(){var t=Object(r.useState)(null),e=Object(u.a)(t,2),n=e[0],s=e[1],c=Object(r.useState)(null),i=Object(u.a)(c,2),a=i[0],j=i[1],m=Object(r.useState)(null),b=Object(u.a)(m,2),p=b[0],f=b[1],x=Object(r.useState)(null),v=Object(u.a)(x,2),k=v[0],y=v[1],S=Object(r.useState)(null),w=Object(u.a)(S,2),T=w[0],D=w[1],I=Object(r.useState)(null),M=Object(u.a)(I,2),G=M[0],U=M[1],L=Object(r.useState)([]),z=Object(u.a)(L,2),F=z[0],A=z[1],_=Object(r.useState)(""),W=Object(u.a)(_,2),J=W[0],V=W[1],H=Object(r.useState)(null),q=Object(u.a)(H,2),K=q[0],Q=q[1],X=function(t){j(t.code),A(t.breakPoints),V(""),Q(null)};return Object(P.jsxs)("div",{className:"d-flex flex-column",children:[Object(P.jsx)(g,{}),Object(P.jsx)(h.a,{className:"base",fluid:!0,children:Object(P.jsxs)(d.a,{children:[Object(P.jsxs)(l.a,{sm:4,children:[Object(P.jsx)(d.a,{className:"m-4",children:Object(P.jsx)(l.a,{children:Object(P.jsx)(N,{status:G,errorMessage:K,onUpdateCode:function(t){try{var e=new O(t,{write:function(t){t<0||V((function(e){return e+String.fromCodePoint(t)}))},onChangeCodePointer:f,onChangeMemory:function(t,e){y(t),D(e)},onChangeStatus:U});s(e),X(e)}catch(n){Q(n.message)}},onRun:function(t){return n.run(t)},onStep:function(){return n.step()},onStop:function(){return n.stop()},onReset:function(){n.reset(),X(n)}})})}),Object(P.jsx)(d.a,{children:Object(P.jsx)(l.a,{className:"m-4",children:Object(P.jsx)(C,{result:J})})})]}),Object(P.jsxs)(l.a,{sm:8,children:[Object(P.jsx)(d.a,{children:Object(P.jsx)(l.a,{className:"m-4",children:Object(P.jsx)(E,{code:a,codePointer:p,breakPoints:F,onSetBreakPoint:function(t){n.setBreakPoint(t),A(Object(o.a)(n.breakPoints))}})})}),Object(P.jsx)(d.a,{children:Object(P.jsx)(l.a,{className:"m-4",children:Object(P.jsx)(R,{memory:k,ptr:T})})})]})]})}),Object(P.jsx)(B,{})]})}),I=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(e){var n=e.getCLS,s=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),s(t),r(t),c(t),i(t)}))};n(40),n(41);a.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(D,{})}),document.getElementById("root")),I()}},[[42,1,2]]]);
//# sourceMappingURL=main.d7463894.chunk.js.map