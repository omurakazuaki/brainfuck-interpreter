(this["webpackJsonpbrainfuck-interpreter"]=this["webpackJsonpbrainfuck-interpreter"]||[]).push([[0],{39:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var s,i=n(0),a=n.n(i),r=n(11),c=n.n(r),o=n(8),u=n(6),h=n(46),d=n(45),l=n(26),j=n(7),b=n.n(j),m=n(12),p=n(22),O=n(23);!function(t){t[t.READY=0]="READY",t[t.RUNNING=1]="RUNNING",t[t.STOPPING=2]="STOPPING",t[t.STOPPED=3]="STOPPED",t[t.END=4]="END"}(s||(s={}));var f=function(){function t(e,n){Object(p.a)(this,t),this.opt=void 0,this.memory=void 0,this.ptr=void 0,this.code=void 0,this.codePointer=void 0,this.breakPoints=void 0,this.status=null,this.commands=void 0,this.jumpByOpen=void 0,this.jumpByClose=void 0,this.code=e;var s={onChangeCodePointer:function(t){},onChangeMemory:function(t){},onChangeStatus:function(t){},write:function(t){},read:function(){var t=Object(o.a)("Hello, World!");return function(){var e;return(null===(e=t.shift())||void 0===e?void 0:e.charCodeAt(0))||-1}}(),memorySize:1024,cellBits:8,commands:{inc:"+",dec:"-",nxt:">",prv:"<",put:".",get:",",opn:"[",cls:"]"}};this.opt=Object.assign(s,n),this.reset()}return Object(O.a)(t,[{key:"reset",value:function(){this.memory=new Int8Array(this.opt.memorySize).fill(0),this.ptr=0,this.codePointer=0;var t=this.jumpList();this.jumpByOpen=t.reduce((function(t,e){return t[e[0]]=e[1],t}),{}),this.jumpByClose=t.reduce((function(t,e){return t[e[1]]=e[0],t}),{}),this.commands=Object.values(this.opt.commands),this.opt.onChangeCodePointer(this.codePointer),this.opt.onChangeMemory(this.memory,this.ptr),this.changeStatus(s.READY),this.breakPoints=[]}},{key:"jumpList",value:function(){for(var t=this,e=[],n=Object.values(this.opt.commands),s=0,i=-1,a=function(a){var c=t.code.slice(a),o=n.find((function(t){return c.startsWith(t)}));if(o===t.opt.commands.opn)0===s&&(i=a),s++;else if(o===t.opt.commands.cls)if(-1!==i)0===--s&&(e.push([i,a]),a=i,i=-1);else if(!e.find((function(t){return t[1]===a})))throw Error("Syntax error: ".concat(t.opt.commands.opn," expected.(index: ").concat(a,")"));a+=(null===o||void 0===o?void 0:o.length)||1,r=a},r=0;this.code[r];)a(r);if(-1!==i)throw Error("Syntax error: ".concat(this.opt.commands.cls," expected.(index: ").concat(i,")"));return e}},{key:"run",value:function(){var t=Object(m.a)(b.a.mark((function t(){var e,n,i=this,a=arguments;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=a.length>0&&void 0!==a[0]&&a[0],this.changeStatus(s.RUNNING),n=e?Object(m.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){setTimeout((function(){i.opt.onChangeCodePointer(i.codePointer),i.opt.onChangeMemory(i.memory,i.ptr),t()}))}));case 2:case"end":return t.stop()}}),t)}))):void 0;case 3:if(!this.code[this.codePointer]||this.status!==s.RUNNING){t.next=10;break}return t.next=6,this._step(n);case 6:if(!this.breakPoints.includes(this.codePointer)){t.next=8;break}return t.abrupt("break",10);case 8:t.next=3;break;case 10:this.changeStatus(s.STOPPED),this.opt.onChangeCodePointer(this.codePointer),this.opt.onChangeMemory(this.memory,this.ptr);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"stop",value:function(){this.changeStatus(s.STOPPING)}},{key:"setBreakPoint",value:function(t){this.breakPoints.includes(t)?this.breakPoints=this.breakPoints.filter((function(e){return e!==t})):this.breakPoints.push(t)}},{key:"step",value:function(){var t=Object(m.a)(b.a.mark((function t(){var e,n=this;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.changeStatus(s.RUNNING),e=function(){var t=Object(m.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){setTimeout((function(){n.opt.onChangeCodePointer(n.codePointer),n.opt.onChangeMemory(n.memory,n.ptr),t()}))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),this._step(e),this.changeStatus(s.STOPPED);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_step",value:function(){var t=Object(m.a)(b.a.mark((function t(){var e,n,s,i=arguments;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:function(){},n=this.code.slice(this.codePointer),(s=this.commands.find((function(t){return n.startsWith(t)})))===this.opt.commands.opn?0===this.memory[this.ptr]&&(this.codePointer=this.jumpByOpen[this.codePointer]):s===this.opt.commands.cls?0!==this.memory[this.ptr]&&(this.codePointer=this.jumpByClose[this.codePointer]-1):s===this.opt.commands.nxt?this.ptr=this.ptr<this.opt.memorySize-1?this.ptr+1:0:s===this.opt.commands.prv?this.ptr=this.ptr>0?this.ptr-1:this.opt.memorySize-1:s===this.opt.commands.inc?this.memory[this.ptr]++:s===this.opt.commands.dec?this.memory[this.ptr]--:s===this.opt.commands.put?this.opt.write(this.memory[this.ptr]):s===this.opt.commands.get&&(this.memory[this.ptr]=this.opt.read()||0),!s){t.next=10;break}return this.codePointer+=s.length,t.next=8,e();case 8:t.next=11;break;case 10:this.codePointer++;case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"changeStatus",value:function(t){this.status!==t&&(this.status!==s.STOPPED||this.code[this.codePointer]?this.status=t:this.status=s.END,this.opt.onChangeStatus(this.status))}}]),t}(),x=n(47),v=n.p+"static/media/logo.205d7a80.svg",P=n(1),g=function(){return Object(P.jsx)("header",{children:Object(P.jsx)(x.a,{bg:"dark",children:Object(P.jsx)(x.a.Brand,{href:"",children:Object(P.jsxs)("div",{className:"site-name",children:[Object(P.jsx)("img",{alt:"",src:v,width:"30",height:"30",className:"d-inline-block align-top"})," ","Brainfuck Interpreter"]})})})})},k=n(48),y=n(44),S=n(49),N=function(t){var e=Object(i.useState)(Object(i.createRef)()),n=Object(u.a)(e,1)[0];return Object(P.jsxs)("div",{children:[Object(P.jsxs)(k.a,{children:[Object(P.jsxs)(k.a.Row,{className:"mb-1",children:[Object(P.jsx)(k.a.Label,{children:"Code"}),Object(P.jsx)(k.a.Control,{as:"textarea","aria-label":"code",rows:10,readOnly:!(null===t.status||t.status===s.READY),onChange:function(e){t.onUpdateCode(e.target.value)}})]}),Object(P.jsx)(k.a.Row,{className:"mb-4",children:Object(P.jsx)("p",{className:"text-danger",children:t.errorMessage})}),Object(P.jsxs)(k.a.Row,{className:"mb-4",children:[Object(P.jsx)(k.a.Label,{children:"Stdin"}),t.status===s.READY?Object(P.jsx)(k.a.Control,{as:"textarea","aria-label":"stdin",rows:3,onChange:function(e){t.onUpdateStdin(e.target.value)}}):Object(P.jsx)(k.a.Control,{as:"textarea","aria-label":"stdin",rows:3,value:t.stdin,readOnly:!0})]})]}),Object(P.jsxs)(k.a.Row,{className:"d-flex",children:[Object(P.jsx)("div",{className:"mr-auto",children:Object(P.jsxs)(y.a,{children:[Object(P.jsx)(S.a,{variant:"secondary",onClick:function(e){t.onStop()},disabled:t.status!==s.RUNNING,children:"STOP"}),Object(P.jsx)(S.a,{variant:"secondary",onClick:function(e){t.onReset()},disabled:null===t.status||t.status!==s.STOPPED&&t.status!==s.END,children:"RESET"})]})}),Object(P.jsx)("div",{className:"mr-4",children:Object(P.jsx)(k.a.Check,{label:"STEP TRACE",ref:n})}),Object(P.jsx)("div",{children:Object(P.jsxs)(y.a,{children:[Object(P.jsx)(S.a,{variant:"info",onClick:function(e){t.onRun(n.current.checked)},disabled:null===t.status||t.status!==s.STOPPED&&t.status!==s.READY,children:"RUN"}),Object(P.jsx)(S.a,{variant:"info",onClick:function(e){t.onStep()},disabled:null===t.status||t.status!==s.STOPPED&&t.status!==s.READY,children:"STEP"})]})})]})]})},C=function(t){return Object(P.jsxs)(k.a,{children:[Object(P.jsx)(k.a.Label,{children:"Result"}),Object(P.jsx)(k.a.Row,{className:"result",children:Object(P.jsx)("pre",{className:"m-4",children:t.result})})]})},w=n(15),R=function(t){var e=function(e){var n=Number(e.target.getAttribute("data-key"));t.onSetBreakPoint(n)},n=function(e){var n=t.breakPoints.includes(e),s=e===t.codePointer;return n&&s?"token bg-secondary px-1":n?"token bg-danger px-1":s?"token bg-info px-1":"token px-1"};return Object(P.jsxs)(k.a,{children:[Object(P.jsx)(k.a.Label,{children:"Code Viewer"}),Object(P.jsx)(k.a.Row,{className:"code",children:t.code?w([].concat(Object(o.a)(t.code),["EOF"])).map((function(t){return" "===t?"\xa0":t})).map((function(t,s){return"\n"===t?Object(P.jsx)("br",{},s):Object(P.jsx)("span",{onClick:e,"data-key":s,className:n(s),children:t},s)})).value():null})]})},E=function(t){return Object(P.jsxs)(k.a,{children:[Object(P.jsx)(k.a.Label,{children:"Memory Viewer"}),Object(P.jsx)(k.a.Row,{className:"memory",children:t.memory?w(t.memory).chunk(16).map((function(e,n){return Object(P.jsx)(d.a,{children:w.map(e,(function(e,s){return Object(P.jsx)(l.a,{children:Object(P.jsx)("code",{className:t.ptr===16*n+s?"bg-light":"",children:"".concat(e).padStart(3,"0")})},16*n+s)}))},n)})).value():null})]})},D=n.p+"static/media/github.c18574d3.svg",T=function(){return Object(P.jsx)("footer",{children:Object(P.jsx)(x.a,{bg:"dark",className:"d-flex justify-content-around",children:Object(P.jsx)(x.a.Brand,{href:"https://github.com/omurakazuaki/brainfuck-interpreter",target:"_blank",children:Object(P.jsxs)("div",{className:"footer-link",children:[Object(P.jsx)("img",{alt:"",src:D,width:"24",height:"24",className:"d-inline-block align-top"})," ","source"]})})})})},B=(n(39),function(){var t=Object(i.useState)(null),e=Object(u.a)(t,2),n=e[0],s=e[1],a=Object(i.useState)(null),r=Object(u.a)(a,2),c=r[0],j=r[1],b=Object(i.useState)([]),m=Object(u.a)(b,2),p=m[0],O=m[1],x=Object(i.useState)(null),v=Object(u.a)(x,2),k=v[0],y=v[1],S=Object(i.useState)(null),w=Object(u.a)(S,2),D=w[0],B=w[1],I=Object(i.useState)(null),A=Object(u.a)(I,2),U=A[0],M=A[1],G=Object(i.useState)(null),L=Object(u.a)(G,2),Y=L[0],z=L[1],F=Object(i.useState)([]),_=Object(u.a)(F,2),W=_[0],J=_[1],V=Object(i.useState)(""),H=Object(u.a)(V,2),q=H[0],K=H[1],Q=Object(i.useState)(null),X=Object(u.a)(Q,2),Z=X[0],$=X[1],tt=function(t){j(t.code),J(t.breakPoints),K(""),$(null)};return Object(P.jsxs)("div",{className:"d-flex flex-column",children:[Object(P.jsx)(g,{}),Object(P.jsx)(h.a,{className:"base",fluid:!0,children:Object(P.jsxs)(d.a,{children:[Object(P.jsxs)(l.a,{sm:4,children:[Object(P.jsx)(d.a,{className:"m-4",children:Object(P.jsx)(l.a,{children:Object(P.jsx)(N,{status:Y,errorMessage:Z,stdin:p.join(""),onUpdateCode:function(t){try{var e=new f(t,{write:function(t){t<0||K((function(e){return e+String.fromCodePoint(t)}))},onChangeCodePointer:y,onChangeMemory:function(t,e){B(t),M(e)},onChangeStatus:z});s(e),tt(e)}catch(n){$(n.message)}},onUpdateStdin:function(t){var e=Object(o.a)(t);n.opt.read=function(){var t=e.shift();return O(Object(o.a)(e)),(null===t||void 0===t?void 0:t.charCodeAt(0))||-1}},onRun:function(t){return n.run(t)},onStep:function(){return n.step()},onStop:function(){return n.stop()},onReset:function(){n.reset(),tt(n)}})})}),Object(P.jsx)(d.a,{children:Object(P.jsx)(l.a,{className:"m-4",children:Object(P.jsx)(C,{result:q})})})]}),Object(P.jsxs)(l.a,{sm:8,children:[Object(P.jsx)(d.a,{children:Object(P.jsx)(l.a,{className:"m-4",children:Object(P.jsx)(R,{code:c,codePointer:k,breakPoints:W,onSetBreakPoint:function(t){n.setBreakPoint(t),J(Object(o.a)(n.breakPoints))}})})}),Object(P.jsx)(d.a,{children:Object(P.jsx)(l.a,{className:"m-4",children:Object(P.jsx)(E,{memory:D,ptr:U})})})]})]})}),Object(P.jsx)(T,{})]})}),I=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(e){var n=e.getCLS,s=e.getFID,i=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),s(t),i(t),a(t),r(t)}))};n(40),n(41);c.a.render(Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(B,{})}),document.getElementById("root")),I()}},[[42,1,2]]]);
//# sourceMappingURL=main.08f92897.chunk.js.map